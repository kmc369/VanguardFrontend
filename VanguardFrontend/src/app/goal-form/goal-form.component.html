<button mat-flat-button class="newgoal" (click)="open(content)">
  New Goal
</button>
<div class="goalform mat-elevation-z4">
  <p-table
    [value]="goalList"
    [scrollable]="true"
    styleClass="p-datatable-gridlines"
    scrollHeight="500px"
  >
    <ng-template pTemplate="header">
      <tr>
        <th style="color: white; background-color: #004a9f">Name</th>
        <th style="color: white; background-color: #004a9f">Description</th>
        <th style="color: white; background-color: #004a9f">Date</th>
        <th style="color: white; background-color: #004a9f">Total</th>
        <th style="color: white; background-color: #004a9f">saved</th>
        <th style="color: white; background-color: #004a9f">Image</th>
        <th style="color: white; background-color: #004a9f">Action</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-goal>
   
      <tr>
        <td>
          <div *ngIf="goal.isEdit">
            <input
              pInputText
              type="text"
              [(ngModel)]="goal.name"
              class="form-control"
            />
          </div>
          <div *ngIf="!goal.isEdit">
            {{ goal.name }}
          </div>
        </td>

        <td>{{ goal.description }}</td>

        <td>{{ goal.date }}</td>
        <td>{{ goal.amount | currency }}</td>
        <td>{{ goal.saved | currency }}</td>
        <td>
          <img
            src="{{ goal.image }}"
            alt="img"
            width="110"
            height="80"
            class="img mat-elevation-z4"
          />
        </td>

        <td>
          <button
            class="deletebutton"
            mat-flat-button
            (click)="deleteRow(goal)"
          >
            <mat-icon style="color: white">delete_forever</mat-icon>
          </button>

          <div *ngIf="goal.isEdit">
            <button class="editbutton" mat-mini-fab (click)="update()">
              save
            </button>
            <button class="editbutton" mat-mini-fab (click)="findAll()">
              cancel
            </button>
          </div>

          <div *ngIf="!goal.isEdit">
            <button class="deletebutton" mat-flat-button (click)="edit(goal)">
              <mat-icon style="color: white">edit</mat-icon>
            </button>
          </div>
        </td>
      </tr>
  
    </ng-template>
  </p-table>





  <!--Lets get the new form submitted -->


    <ng-template #content let-modal >
    
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Goals</h4>
        <button
          type="button"
          class="close"
          aria-label="Close"
          (click)="modal.dismiss('Cross click')"
        >
          <span aria-hidden="true">&times;</span>
      </button> 
      </div>
      <div class="modal-body">
        <form #goalform (ngSubmit)="save(goal);goalform.reset()">        
          <mat-form-field    appearance="fill">
            <mat-label>Goal Name</mat-label>
            <input  matInput type="text" name="goalname" [(ngModel)]="goal.name"/>
          </mat-form-field >
 
    
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Textarea</mat-label>
          <textarea matInput type="text" name="description" [(ngModel)]="goal.description"></textarea>
        </mat-form-field>
      </div>
  
      <div>
        <mat-form-field  appearance="fill">
          <mat-label>Image</mat-label>
          <input matInput type="url" name="image" [(ngModel)]="goal.image"/>
        </mat-form-field>
      </div>
  
      <div>
        <mat-form-field  appearance="fill">
          <mat-label>Date</mat-label>
          <input matInput type="date" name="date" [(ngModel)]="goal.date"/>
        </mat-form-field>
      </div>
  
      <div>
        <mat-form-field  appearance="fill">
          <mat-label>Amount</mat-label>
          <input matInput type="number" name="amount" [(ngModel)]="goal.amount"/>
          <span matPrefix>$&nbsp;</span>
          <span matSuffix>.00</span>
        </mat-form-field>
      </div>
  
      <div>
        <mat-form-field  appearance="fill">
          <mat-label>Saved</mat-label>
          <input matInput type="number" name="saved" [(ngModel)]="goal.saved"/>
          <span matPrefix>$&nbsp;</span>
          <span matSuffix>.00</span>
        </mat-form-field>
      </div>
  
      <div>
        <mat-form-field  appearance="fill">
          <mat-label>userId</mat-label>
          <input matInput type="number" name="id" [(ngModel)]="goal.user.id"/>
        </mat-form-field>
      </div>
  
      <div>
        <mat-form-field  appearance="fill">
          <mat-label>username</mat-label>
          <input matInput type="text" name="username" [(ngModel)]="goal.user.username"/>
        </mat-form-field>
     
      </div>
      <div>
        <button pButton>submit</button>
      </div>
    </form>
  
  
  
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-outline-dark"
          (click)="modal.close('Save click')" 
        >Save
        </button>
      </div>
  </div>
  
 </ng-template>
  



